# Савва Чубий - "Граф Изучения"
# Пользовательские сценарии

### Группа: 10 - М
### Электронная почта: kotfind@yandex.ru
### Telegram: @kotfind

## [ Сценарий - Поиск по темам/ пакетам/ графам ]

1. Пользователь переходит в соответствующую вкладку (т.е. в "Темы", "Пакеты" или "Графы").
1. **Опция**: Пользователь вводит название темы/ пакета/ графа.
1. **Опция**: Пользователь выбирает название пакета тем из выпадающего списка (только для поиска по темам).
1. **Опция**: Пользователь выбирает нужно ли выводить изученные темы (только для поиска по темам).
1. **Опция**: Пользователь выбирает нужно ли выводить темы из списка "Изучить Позже" (только для поиска по темам).
1. **Опция**: Пользователь включает или выключает режим авто-обновления.
1. **Вариант 1**: режим авто-обновления влючен:
    1. Пользователь изменяет любое из полей выше.
    1. Система выводит список подходящих под выбранные опции объектов (тем/
       пакетов/ графов).
1. **Вариант 2**: режим авто-обновления выключен:
    1. Пользователь нажимает кнопку поиска.
    1. Система выводит список подходящих под выбранные опции объектов.

## [ Сценарий - Создание/ переименование пакета/ графа ]

1. Сценарий может быть начат несколькими способами:
    1. **Способ 1 (переименование)**:
        1. Пользователь получает список нужных объектов (пакетов или графов соответственно),
            используя сценарий *[ Поиск по темам/ пакетам/ графам ]*.
        1. Система выводит меню &mdash; список возможных действий над объектом.
        1. Пользователь выбирает пункт "Переименовать".
    1. **Способ 2 (создание 1)**:
        1. Пользователь переходит в соответствующую вкладку (т.е. в "Пакеты" или "Графы").
        1. Пользователь нажимает кнопку "Новый граф/ пакет".
    1. **Способ 3 (создание 2)** (только для пакета):
        1. См. сценарий *[ Создание/ просмотр/ редактирование темы ]*.
1. Система выводит диалоговое окно с полем для ввода названия объекта.
1. Пользователь вводит название объекта.
1. **Вариант 1**: Возникла ошибка (например, название пусто или не уникально):
    1. Система выводит сообщение об ошибке.
    1. Пользователь может изменить название и попробовать снова.
1. **Вариант 2**: Ошибок не возникло:
    1. Система закрывает диалоговое окно.
    1. Система сохраняет изменения.

## [ Сценарий - Удаление темы/ пакета/ графа ]

1. Пользователь получает список нужных объектов (тем, пакетов или графов соответственно),
    используя сценарий *[ Поиск по темам/ пакетам/ графам ]*.
1. Система выводит меню &mdash; список возможных действий над объектом.
1. Пользователь выбирает пункт "Удалить".
1. Система выводит диалоговое окно для подтверждения операции удаления.
1. **Вариант 1**: Пользователь отменяет удаление:
    1. Система **не** удаляет объект.
1. **Вариант 1**: Пользователь подтверждает удаление:
    1. Система удаляет объект.
1. Система закрывает диалоговое окно.

## [ Сценарий - Создание/ просмотр/ редактирование темы ]

1. Сценарий может быть начат тремя способами:
    1. **Способ 1 (изменение)**:
        1. Пользователь получает список тем, используя один из других сценариев.
        1. Пользователь нажимает на нужную тему.
        1. Система выводит меню &mdash; список возможных действий над темой.
        1. Пользователь выбирает пункт "Просмотр/ Редактирование".
    1. **Способ 2 (создание 1)**:
        1. Пользователь переходит во вкладку "Темы".
        1. Пользователь нажимает кнопку создания темы.
    1. **Способ 3 (создание 2)**:
        1. См. сценарий *[ Просмотр/ Редактирование графа ]*
        1. Пользователь переходит во вкладку "Темы".
        1. Пользователь нажимает кнопку создания темы.
1. Система открывает окно с информацией о выбранной теме (если тема только
   создается, поля будут принимать значения по-умолчанию). В том числе:
    1. Название темы
    1. Пакет, которому принадлежит тема
    1. Находится ли тема в списке "изучить позже"/ "изученные"
    1. Описание темы
    1. Список тем, от которых зависит данная
1. **Опция**: Пользователь нажимает кнопку создания пакета:
    1. См. сценарий *[ Создание/ переименование пакета/ графа ]*.
1. **Опция**: Пользователь вносит изменения в некоторые поля.
1. **Вариант 1**: Пользователь нажимает кнопку отмены/ клавишу ESC:
    1. Система не сохраняет внесенные изменения.
    1. Система закрывает окно.
    1. Сценарий завершается.
1. **Вариант 2**: Пользователь нажимает кнопку сохранения/ клавишу Enter (Return):
    1. **Вариант 1**: Поля для ввода содержат ошибки (например,
       название пусто, название не уникально):
        1. Система выводит сообщение об ошибке.
        1. Пользователь может внести изменения в поля и попробовать снова.
    1. **Вариант 2**: Поля для ввода не содержат ошибок:
        1. Система сохраняет внесенные изменения.
        1. Система закрывает окно.
        1. Сценарий завершается.

## [ Сценарий - Просмотр/ Редактирование графа ]

1. Пользователь переходит во вкладку "Графы".
1. Пользователь открывает граф:
    1. **Вариант 1**: Пользватель нажимает на граф правой кнопкой мыши
        1. Система выводит меню &mdash; список возможных действий над графом.
        1. Пользователь выбирает пункт "Открыть".
    1. **Вариант 2**: Пользователь дважды нажимает на граф левой кнопкой мыши
1. Система открывает граф.
1. **Опция**: Пользователь не вносит изменений в граф:
    1. Сценарий завершается.
1. **Цикл** (следующий блок может повторяться произвольное число раз):
    <!-- TODO перемещение/ увеличение холста -->
    <!-- TODO перемещение/ увеличение холста -->
    1. Пользователь выбирает один из режимов редактирования, нажимая
       соответствующую иконку на панели интсрументов:
        * Режим передвижения
        * Режим создания вершин
        * Режим создания ребер
        * Режим удаления
    1. **Вариант 1**: Пользователь выбрал режим перемещения:
        1. Пользователь нажимает левой кнопкой мыши на одну из вершин графа.
        1. Пользователь перемещает курсор мыши, не отпуская левой кнопки.
        1. Система перемещает вершину и подходящие к ней ребра вслед за курсором.
        1. Пользователь отпускает левую кнопку мыши.
    1. **Вариант 2**: Пользователь выбрал режим создания вершин
        1. Пользователь нажимает левой кнопкой мыши в любом месте графа.
        1. Система выводит окно выбора темы для добавления.
            Уже находящиеся на графе темы в списке не отображаются.
        1. **Варинт 1**: Пользователь отказался выбрать тему:
            1. Система закрывает окно выбора темы.
        1. **Варинт 2**: Пользователь выбрал существующую тему:
            1. Система закрывает окно выбора темы.
            1. Система добавляет вершину с данной темой на граф в точку, куда
               нажал пользователь.
        1. **Вариант 3**: Пользователь выбрал вариант "Новая тема":
            1. Система закрывает окно выбора темы.
            1. Система предлагает пользователю созадть новую тему (См. сценарий
               *[ Создание/ просмотр/ редактирование темы ]*).
            1. **Вариант 1**: Тема не была создана:
                1. Сценарий завершается.
            1. **Вариант 2**: Тема была успешно создана:
                1. Система добавляет вершину с созданной темой на граф в точку,
                   куда нажал пользователь.
    1. **Вариант 3**: Пользователь выбрал режим создания ребер
        1. Пользователь нажимает левой кнопкой мыши на одну из вершин графа.
        1. Пользователь перемещает курсор мыши, не отпуская левой кнопки мыши.
        1. Пользователь отпускает левую кнопку мыши над другуой вершиной графа.
        1. **Вариант 1**: Возникла ошибка (например, такое ребро уже существует
           или пользователь нажал и отпустил клавишу над одной и той же
           вершиной)
            1. Система сообщает Пользователю об ошибке.
            1. Система **не** создает новое ребро.
        1. **Вариант 2**: Ошибок не возникло:
            1. Система создает новое ребро.
    1. **Вариант 4**: Пользователь выбрал режим удаления:
        1. Пользователь нажимает по вершине или по ребру графа левой кнопкой мыши.
        1. **Вариант 1**: Пользователь нажимает по вершине графа:
            1. Система удаляет эту вершину с графа. *Она удаляется только с графа.*
        1. **Вариант 2**: Пользователь нажимает по ребру графа:
            1. Система удаляет это ребро. *Оно удаляется как графа, так и в целом.*
    1. **Опция**: Пользователь нажимает иконку сохранения:
        1. Система сохраняет изменения, внесенные в граф.
    1. **Опция**: Пользователь закрывает граф:
        1. Система выводит окно с вопросом о необходимости сохранения.
        1. **Вариант 1**: Пользователь нажимает кнопку "Отмена":
            1. Система закрывает окно с вопросом.
        1. **Вариант 2**: Пользователь нажимает кнопку "Нет":
            1. Система **не** сохраняет внесенные изменения.
            1. Система закрывает граф.
            1. Система закрывает окно с вопросом.
        1. **Вариант 3**: Пользователь нажимает кнопку "Да":
            1. Система сохраняет внесенные изменения.
            1. Система закрывает граф.
            1. Система закрывает окно с вопросом.

## [ Сценарий - Построение списка изучения ]

1. Пользователь получает список тем, используя один из других сценариев.
1. Пользователь нажимает на нужную тему.
1. Система выводит меню &mdash; список возможных действий над темой.
1. Пользователь выбирает пункт "Построение списка изучения".
1. Система строит и выводит на экран список изучения:
    1. Если перед изучением некоторой <nobr>темы 1</nobr> необходимо изучить
       другую <nobr>тему 2</nobr>, то <nobr>тема 2</nobr> располагается в
       списке выше, чем <nobr>тема 1</nobr>.
    1. Последним пунктом списка является выбранная пользователем тема.
<!-- TODO опции -->

<!--1. Пользователь может нажать кнопку "Экспорт", тогда:-->
<!--    1. Система выводит окно выбора нового файла, куда будет экспортирован граф.-->
<!--    1. Пользователь выбирает файл.-->
<!--    1. Система проверяет существование файла:-->
<!--        1. Если файла **не** существует, система экспортирует граф в файл в виде изображения,-->
<!--           сообщая об успешном выполнении операции пользователю.-->
<!--        1. Иначе (то есть, если файл существует), система выводит-->
<!--           диалоговое окно, вопрос о необходимости перезаписи файла:-->
<!--            1. Если пользователь отказывается перезаписывать файл,-->
<!--               система сообщает о провале операции пользователю.-->
<!--            1. Иначе (то есть, если пользователь соглашается перезаписать файл),-->
<!--               система экспортирует пакет в файл (перезаписывая его),-->
<!--               сообщая об успешном выполнении операции пользователю.-->

## [ Сценарий - Изменение параметров отображения ]
1. Пользователь выбирает пункт "Настройки" в вержнем меню.
1. Система разворачивает меню "Настройки".
1. **Вариант 1**: Пользователь выбрал подменю "Размер шрифта":
    1. Система выводит список доступных размеров шрифтов.
    1. Пользователь выбирает один из размеров.
    1. Система устанавливает выбранный размер шрифта во всем приложении.
1. **Вариант 2**: Пользователь выбирает подменю "Язык".
    1. Система выводит список доступных языков.
    1. Пользователь выбирает один из языков.
    1. Система устанавливает выбранный язык во всем приложении.

[//]: ----------------------------------------------------------------------------------------------------

## [ Сценарий 6 - Импорт пакета тем из файла ]

1. Пользователь выбирает вкладку "Пакеты".
1. Пользователь нажимает кнопку "Импорт пакета".
1. Система выводит окно выбора файла, откуда должен быть импортирован пакет.
1. Пользователь выбирает нужный файл.
1. Система пытается импортировать пакет из выбранного файла:
    1. Если файл является существует и является валидным, система импортирует
       пакет, сообщая об успешном выполнении операции пользователю.
    1. Иначе (то есть, если файл **не** существует или **не** является
       валидным), система сообщает о провале операции пользователю.

## [ Сценарий 7 - Экспорт пакета тем в файл ]

1. Пользователь выбирает вкладку "Пакеты".
1. Пользователь нажимает на нужный пакет в списке.
1. Система выводит меню, список возможных действий над пакетом.
1. Пользователь выбирает пункт "Экспорт пакета".
1. Система выводит окно выбора нового файла, куда будет экспортирован пакет.
1. Пользователь выбирает файл.
1. Система проверяет существование файла:
    1. Если файла **не** существует, система экспортирует пакет в файл,
       сообщая об успешном выполнении операции пользователю.
    1. Иначе (то есть, если файл существует), система выводит
       диалоговое окно, вопрос о необходимости перезаписи файла:
        1. Если пользователь отказывается перезаписывать файл,
           система сообщает о провале операции пользователю.
        1. Иначе (то есть, если пользователь соглашается перезаписать файл),
           система экспортирует пакет в файл (перезаписывая его),
           сообщая об успешном выполнении операции пользователю.

## [ Сценарий 8 - Импорт списков тем "изученные" и "изучить позже" из файла ]

1. Пользователь выбирает вкладку "Списки".
1. Пользователь нажимает кнопку &laquo;Импортировать "Изученные"&raquo; или
   &laquo;Импортировать "Изучить позже"&raquo; соответственно.
1. Система выводит окно с вопросом о том, должен ли существующий список
   быть дополнен или заменен импортированным.
1. Пользователь отвечает на вопрос, выбирая нужный вариант.
1. Система выводит окно выбора файла, откуда должен быть импортирован список.
1. Пользователь выбирает нужный файл.
1. Система пытается импортировать список из выбранного файла:
    1. Если файл является существует и является валидным, система импортирует
       список, сообщая об успешном выполнении операции пользователю.
    1. Иначе (то есть, если файл **не** существует или **не** является
       валидным), система сообщает о провале операции пользователю.

## [ Сценарий 9 - Экспорт списков тем "изученные" и "изучить позже" в файл ]

Сценарий аналогичен **Сценарию 7 - Экспорт пакета тем в файл**.
