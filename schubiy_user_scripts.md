# Савва Чубий - "Граф Изучения"
# Пользовательские сценарии

### Группа: 10 - М
### Электронная почта: kotfind@yandex.ru
### Telegram: @kotfind

## [ Сценарий 1 - Поиск по темам/ пакетам/ графам ]

1. Пользователь переходит в соответствующую вкладку (т.е. в "Темы", "Пакеты" или "Графы").
1. **Опция**: Пользователь вводит название темы/ пакета/ графа.
1. **Опция**: Пользователь выбирает название пакета тем из выпадающего списка (только для поиска по темам).
1. **Опция**: Пользователь выбирает нужно ли выводить изученные темы (только для поиска по темам).
1. **Опция**: Пользователь выбирает нужно ли выводить темы из списка "Изучить Позже" (только для поиска по темам).
1. **Опция**: Пользователь включает или выключает режим авто-обновления.
1. **Вариант 1**: режим авто-обновления включен:
    1. Пользователь изменяет любое из полей выше.
    1. Система выводит список подходящих под выбранные опции объектов (тем/
       пакетов/ графов).
1. **Вариант 2**: режим авто-обновления выключен:
    1. Пользователь нажимает кнопку поиска.
    1. Система выводит список подходящих под выбранные опции объектов.

## [ Сценарий 2 - Создание/ переименование пакета/ графа ]

1. Сценарий может быть начат несколькими способами:
    1. **Способ 1 (переименование)**:
        1. Пользователь получает список нужных объектов (пакетов или графов соответственно),
            используя сценарий *[ Поиск по темам/ пакетам/ графам ]*.
        1. Система выводит меню &mdash; список возможных действий над объектом.
        1. Пользователь выбирает пункт "Переименовать".
    1. **Способ 2 (создание 1)**:
        1. Пользователь переходит в соответствующую вкладку (т.е. в "Пакеты" или "Графы").
        1. Пользователь нажимает кнопку "Новый граф/ пакет".
    1. **Способ 3 (создание 2)** (только для пакета):
        1. См. сценарий *[ Создание/ просмотр/ редактирование темы ]*.
1. Система выводит диалоговое окно с полем для ввода названия объекта.
1. Пользователь вводит название объекта.
1. **Вариант 1**: Возникла ошибка (например, название пусто или не уникально):
    1. Система выводит сообщение об ошибке.
    1. Пользователь может изменить название и попробовать снова.
1. **Вариант 2**: Ошибок не возникло:
    1. Система закрывает диалоговое окно.
    1. Система сохраняет изменения.

## [ Сценарий 3 - Удаление темы/ пакета/ графа ]

1. Пользователь получает список нужных объектов (тем, пакетов или графов соответственно),
    используя сценарий *[ Поиск по темам/ пакетам/ графам ]*.
1. Система выводит меню &mdash; список возможных действий над объектом.
1. Пользователь выбирает пункт "Удалить".
1. Система выводит диалоговое окно для подтверждения операции удаления.
1. **Вариант 1**: Пользователь отменяет удаление:
    1. Система **не** удаляет объект.
1. **Вариант 1**: Пользователь подтверждает удаление:
    1. Система удаляет объект.
1. Система закрывает диалоговое окно.

## [ Сценарий 4 - Создание/ просмотр/ редактирование темы ]

1. Сценарий может быть начат тремя способами:
    1. **Способ 1 (изменение)**:
        1. Пользователь получает список тем, используя один из других сценариев.
        1. Пользователь нажимает на нужную тему.
        1. Система выводит меню &mdash; список возможных действий над темой.
        1. Пользователь выбирает пункт "Просмотр/ Редактирование".
    1. **Способ 2 (создание 1)**:
        1. Пользователь переходит во вкладку "Темы".
        1. Пользователь нажимает кнопку создания темы.
    1. **Способ 3 (создание 2)**:
        1. См. сценарий *[ Просмотр/ Редактирование графа ]*
        1. Пользователь переходит во вкладку "Темы".
        1. Пользователь нажимает кнопку создания темы.
1. Система открывает окно с информацией о выбранной теме (если тема только
   создается, поля будут принимать значения по-умолчанию). В том числе:
    1. Название темы
    1. Пакет, которому принадлежит тема
    1. Находится ли тема в списке "изучить позже"/ "изученные"
    1. Описание темы
    1. Список тем, от которых зависит данная
1. **Опция**: Пользователь нажимает кнопку создания пакета:
    1. См. сценарий *[ Создание/ переименование пакета/ графа ]*.
1. **Опция**: Пользователь вносит изменения в некоторые поля.
1. **Вариант 1**: Пользователь нажимает кнопку отмены/ клавишу ESC:
    1. Система не сохраняет внесенные изменения.
    1. Система закрывает окно.
    1. Сценарий завершается.
1. **Вариант 2**: Пользователь нажимает кнопку сохранения/ клавишу Enter (Return):
    1. **Вариант 1**: Поля для ввода содержат ошибки (например,
       название пусто, название не уникально):
        1. Система выводит сообщение об ошибке.
        1. Пользователь может внести изменения в поля и попробовать снова.
    1. **Вариант 2**: Поля для ввода не содержат ошибок:
        1. Система сохраняет внесенные изменения.
        1. Система закрывает окно.
        1. Сценарий завершается.

## [ Сценарий 5 - Просмотр/ Редактирование графа ]

1. Пользователь переходит во вкладку "Графы".
1. Пользователь открывает граф:
    1. **Вариант 1**: Пользователь нажимает на граф правой кнопкой мыши
        1. Система выводит меню &mdash; список возможных действий над графом.
        1. Пользователь выбирает пункт "Открыть".
    1. **Вариант 2**: Пользователь дважды нажимает на граф левой кнопкой мыши
1. Система открывает граф.
1. **Опция**: Пользователь не вносит изменений в граф:
    1. Сценарий завершается.
1. **Цикл** (следующий блок может повторяться произвольное число раз):
    1. **Опция**: Пользователь удерживает клавишу Ctrl и вращает колесико мыши:
        1. Система изменяет маштаб "холста" графа в зависимости от степени прокрутки
           колесика.
    1. **Опция**: Пользователь нажимает левой клавишей мыши в пустое место "холста" графа:
        1. Пользователь перемещает курсор мыши, не отпуская левую кнопку мыши.
        1. Система передвигает "холст" графа вслед за курсором.
        1. Пользователь отпускает курсор мыши.
    1. **Опция**:
        1. Пользователь получает список тем, используя сценарий *[ Поиск по темам/
         пакетам/ графам ]*.
        1. Пользователь перетаскивает тему на "холст" графа.
        1. **Вариант 1**: Эта тема уже была на графе.
            1. Система сообщает пользователю о ошибке.
        1. **Вариант 2**: Темы на графе не было.
            1. Система добавляет тему на граф в точку, куда пользователь её перенес.
    1. **Опция**: Пользователь выбрал один из режимов редактирования, нажимая
       соответствующую иконку на панели инструментов:
        1. **Вариант 1**: Пользователь выбрал режим перемещения:
            1. Пользователь нажимает левой кнопкой мыши на одну из вершин графа.
            1. Пользователь перемещает курсор мыши, не отпуская левой кнопки.
            1. Система перемещает вершину и подходящие к ней ребра вслед за курсором.
            1. Пользователь отпускает левую кнопку мыши.
        1. **Вариант 2**: Пользователь выбрал режим создания вершин
            1. Пользователь нажимает левой кнопкой мыши в любом месте графа.
            1. Система выводит окно выбора темы для добавления.
                Уже находящиеся на графе темы в списке не отображаются.
            1. **Вариант 1**: Пользователь отказался выбрать тему:
                1. Система закрывает окно выбора темы.
            1. **Вариант 2**: Пользователь выбрал существующую тему:
                1. Система закрывает окно выбора темы.
                1. Система добавляет вершину с данной темой на граф в точку, куда
                   нажал пользователь.
            1. **Вариант 3**: Пользователь выбрал вариант "Новая тема":
                1. Система закрывает окно выбора темы.
                1. Система предлагает пользователю создать новую тему (См. сценарий
                   *[ Создание/ просмотр/ редактирование темы ]*).
                1. **Вариант 1**: Тема не была создана:
                    1. Сценарий завершается.
                1. **Вариант 2**: Тема была успешно создана:
                    1. Система добавляет вершину с созданной темой на граф в точку,
                       куда нажал пользователь.
        1. **Вариант 3**: Пользователь выбрал режим создания ребер
            1. Пользователь нажимает левой кнопкой мыши на одну из вершин графа.
            1. Пользователь перемещает курсор мыши, не отпуская левой кнопки мыши.
            1. Пользователь отпускает левую кнопку мыши над другой вершиной графа.
            1. **Вариант 1**: Возникла ошибка (например, такое ребро уже существует
               или пользователь нажал и отпустил клавишу над одной и той же
               вершиной)
                1. Система сообщает Пользователю об ошибке.
                1. Система **не** создает новое ребро.
            1. **Вариант 2**: Ошибок не возникло:
                1. Система создает новое ребро.
        1. **Вариант 4**: Пользователь выбрал режим удаления:
            1. Пользователь нажимает по вершине или по ребру графа левой кнопкой мыши.
            1. **Вариант 1**: Пользователь нажимает по вершине графа:
                1. Система удаляет эту вершину с графа. *Она удаляется только с графа.*
            1. **Вариант 2**: Пользователь нажимает по ребру графа:
                1. Система удаляет это ребро. *Оно удаляется как графа, так и в целом.*
    1. **Опция**: Пользователь нажимает иконку сохранения:
        1. Система сохраняет изменения, внесенные в граф.
    1. **Опция**: Пользователь закрывает граф:
        1. Система выводит окно с вопросом о необходимости сохранения.
        1. **Вариант 1**: Пользователь нажимает кнопку "Отмена":
            1. Система закрывает окно с вопросом.
        1. **Вариант 2**: Пользователь нажимает кнопку "Нет":
            1. Система **не** сохраняет внесенные изменения.
            1. Система закрывает граф.
            1. Система закрывает окно с вопросом.
        1. **Вариант 3**: Пользователь нажимает кнопку "Да":
            1. Система сохраняет внесенные изменения.
            1. Система закрывает граф.
            1. Система закрывает окно с вопросом.

## [ Сценарий 6 - Построение и экспорт списка изучения ]

1. Пользователь получает список тем, используя один из других сценариев.
1. Пользователь нажимает на нужную тему.
1. Система выводит меню &mdash; список возможных действий над темой.
1. Пользователь выбирает пункт "Построение списка изучения".
1. Система строит и выводит на экран список изучения:
    1. Если перед изучением некоторой <nobr>темы 1</nobr> необходимо изучить
       другую <nobr>тему 2</nobr>, то <nobr>тема 2</nobr> располагается в
       списке выше, чем <nobr>тема 1</nobr>.
    1. Последним пунктом списка является выбранная пользователем тема.

## [ Сценарий 7 - Изменение параметров отображения ]

1. Пользователь выбирает пункт "Настройки" в верхнем меню.
1. Система разворачивает меню "Настройки".
1. **Вариант 1**: Пользователь выбрал подменю "Размер шрифта":
    1. Система выводит список доступных размеров шрифтов.
    1. Пользователь выбирает один из размеров.
    1. Система устанавливает выбранный размер шрифта во всем приложении.
1. **Вариант 2**: Пользователь выбирает подменю "Язык".
    1. Система выводит список доступных языков.
    1. Пользователь выбирает один из языков.
    1. Система устанавливает выбранный язык во всем приложении.

## [ Сценарий 8 - Экспорт графа ]

1. Пользователь открывает граф, используя сценарий *[ Просмотр/ Редактирование графа ]*.
1. Пользователь нажимает на иконку экспорта.
1. Система выводит диалоговое окно, предлагая выбрать файл и формат для экспорта.
1. Пользователь выбирает файл и формат.
1. **Вариант 1**: Пользователь выбрал формат `.jpg`, `.png` или `.svg`.
    1. Система закрывает диалоговое окно.
    1. Система открывает новое диалоговое окно, спрашивая сохранять ли весь
       граф или видимую область.
    1. Пользователь отвечает на вопрос.
    1. Система закрывает диалоговое окно.
1. **Вариант 2**: Пользователь выбрал формат `.graph` (собственный формат
   приложения; полученный файл может быть впоследствии экспортирован).
   *Примечание: при это выборе, будет экспортирована информация как о графе,
   там и о его темах и пакетах, в которых они содержатся.*
    1. Система закрывает диалоговое окно.
1. Система экспортирует граф, учитывая выбранные Пользователем параметры.

## [ Сценарий 9 - Экспорт нескольких тем/ пакета/ списка изучения ]

1. **Вариант 1**:
    1. Пользователь получает список тем, используя сценарий *[ Поиск по темам/ пакетам/ графам ]*.
    1. Пользователь выделяет несколько тем из списка.
    1. **Опция**: Пользователь использует кнопку "Выделить всё".
    1. Пользователь нажимает кнопку экспортировать.
1. **Вариант 2**:
    1. Пользователь получает список пакетов, используя сценарий *[ Поиск по
       темам/ пакетам/ графам ]*.
    1. Пользователь нажимает правой кнопкой мыши по нужному пакету.
    1. Система выводит меню &mdash; список возможных действий над пакетом.
    1. Пользователь выбирает пункт "Экспортировать".
    1. *Примечание: будут выбраны все темы, содержащиеся в данном пакете.*
1. **Вариант 3**:
    1. Пользователь получает список изучения, используя сценарий *[ Построение
       и экспорт списка изучения ]*.
    1. Пользователь нажимает кнопку "Экспорт"
1. Система выводит диалоговое окно, предлагая выбрать формат для экспорта.
1. Пользователь выбирает файл и формат.
1. **Вариант 1**: Пользователь выбрал формат `.txt`.
    1. Система закрывает диалоговое окно.
    1. Система выводит новое диалоговое окно для редактирования параметров
       форматирования итогового файла.
    1. Пользователь изменяет необходимые параметры.
    1. Система закрывает диалоговое окно.
1. **Вариант 2** (только для экспорта пакета или набора тема): Пользователь
   выбрал формат `.themes` (собственный формат приложения; полученный файл
   может быть впоследствии экспортирован).  *Примечание: при это выборе, будет
   экспортирована информация как о самих темах, так и о пакетах, в которых они
   содержатся.*
    1. Система закрывает диалоговое окно.
1. Система экспортирует данные, учитывая выбранные Пользователем параметры.

## [ Сценарий 10 - Импорт пакета/ набора тем ]

1. Пользователь переходит во вкладку "Темы" или "Пакеты".
1. Пользователь нажимает кнопку импорта.
1. Система выводит диалоговое окно для выбора файла.
1. Пользователь выбирает файл.
1. Система закрывает диалоговое окно.
1. Система проверяет корректность файла.
1. **Вариант 1**: Файл **не** является корректным.
    1. Система сообщает пользователю об ошибке.
1. **Вариант 2**: Файл является корректным.
    1. Система экспортирует данные из файла: Система по очереди добавляет
       каждый пакет и содержащиеся в нем темы.
    1. **Цикл** (следующие действия выполняются для каждого пакета из файла):
        1. **Вариант 1**: Пакета с таким именем **не** существует.
            1. Система экспортирует пакет.
        1. **Вариант 2**: Пакет с таким именем существует.
            1. Система открывает диалоговое окно, содержащее возможные варианты
               разрешения конфликта.
            1. Пользователь выбирает один из вариантов.
            1. **Вариант 1**: Пользователь выбирает вариант "Пропустить"/ "Объединить"/ "Заменить".
            1. **Вариант 2**: Пользователь выбирает вариант "Переименовать".
                1. Выбирается новое имя, аналогично сценарию *[ Создание/ переименование пакета/ графа ]*.
            1. Система экспортирует пакет, учитывая выбранные опции.
            1. Система закрывает диалоговое окно.
    1. **Цикл** (следующие действия выполняются для каждой темы из файла):
        1. Аналогичен прошлому циклу; вариант "Объединить" отсутствует.

## [ Сценарий 11 - Импорт графа ]

1. Пользователь переходит во вкладку "Графы".
1. Пользователь нажимает кнопку импорта.
1. Система выводит диалоговое окно для выбора файла.
1. Пользователь выбирает файл.
1. Система закрывает диалоговое окно.
1. Система проверяет корректность файла.
1. **Вариант 1**: Файл **не** является корректным.
    1. Система сообщает пользователю об ошибке.
1. **Вариант 2**: Файл является корректным.
    1. **Вариант 1**: Графа с таким именем **не** существует.
    1. **Вариант 2**: Граф с таким именем существует.
        1. Конфликт разрешается аналогично конфликту при импорте темы
           в сценарии *[ Импорт пакета/ набора тем ]*.
    1. Система экспортирует все пакеты и темы, содержащиеся в фале см. сценарий
       *[ Импорт пакета/ набора тем ]*.
    1. Система экспортирует граф, учитывая выбранные опции.

## [ Сценарий 12 - Полуавтоматическая генерация (пакета) тем ]

1. Пользователь переходит во вкладку "Пакеты".
1. Пользователь нажимает кнопку генерации пакета тем.
1. Взаимодействуя с пользователем, Система создает пустой пакет аналогично
   сценарию *[ Создание/ переименование пакета/ графа ]*
1. Система выводит диалоговое окно для получения параметров генерации. Среди
   них в том числе присутствует поле для введения источника &mdash; ссылки на
   соответствующую страницу Википедии.
1. Пользователь заполняет предложенные системой поля.
1. Система закрывает диалоговое окно и начинает генерацию.
1. Во время генерации:
    1. Система получает данные с сайта Wikipedia, создает темы (добавляя их в данный пакет) и связи между ними.
    1. Система может открывать диалоговые окна, так как не вся информация может быть получена автоматически.
    1. Пользователь заполняет поля в этих диалоговых окнах.
    1. Система закрывает окно и продолжает генерацию.
1. **Вариант 1:** во время генерации возникли ошибки (например, введенная ссылка не корректна).
    1. Система не производит генерацию.
    1. Система сообщает Пользователю о ошибке.
1. **Вариант 2:** генерация прошла без ошибок.
    1. Система сообщает Пользователю об успешной генерации.
